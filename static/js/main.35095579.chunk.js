(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{23:function(t,e,n){t.exports=n(38)},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(9),c=n.n(o),s=n(4),u=n(22),l=n(6),i=n(21),d=function(t){return{type:"START_LOADING",status:t}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"START_LOADING":return e.status;default:return t}},f=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOADED":return e.status;default:return t}},p=function(t){return{type:"SORT_TYPE",sortType:t}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SORT_TYPE":return e.sortType;default:return t}},E=function(t){return{type:"LOAD_TODOS",todos:t}},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOAD_TODOS":return e.todos;case"DELETE_TODO":return t.filter((function(t){return t.id!==e.id}));default:return t}},O=function(t){return{type:"ERROR",message:t}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ERROR":return e.message;default:return t}},v=function(t){return t.loading},y=function(t){return t.loaded},g=function(t){return t.sortType},T=function(t){return t.todos},j=function(t){return t.errorMessage},N=Object(l.combineReducers)({loading:m,loaded:f,sortType:h,todos:b,errorMessage:_}),k=Object(l.createStore)(N,{loading:!1,loaded:!1,sortType:"",todos:[],errorMessage:""},Object(i.composeWithDevTools)()),D=n(7),w=n.n(D),L=n(11),R=(n(33),n(17)),C=function(t){return fetch("https://mate-academy.github.io/react_dynamic-list-of-todos/api"+t).then((function(t){return t.json()}))},S=function(){var t=Object(L.a)(w.a.mark((function t(){var e,n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C("/todos.json");case 2:return e=t.sent,t.next=5,C("/users.json");case 5:return n=t.sent,r=e.map((function(t){return Object(R.a)(Object(R.a)({},t),{},{user:n.find((function(e){return e.id===t.userId}))})})),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=(n(34),function(t){var e=t.todo,n=Object(s.b)();return a.a.createElement("li",{className:"todo__item"},a.a.createElement("h2",{className:"todo__item-title"},e.title,a.a.createElement("button",{className:"todo__item--btn-delete",type:"button",onClick:function(){return t=e.id,n(function(t){return{type:"DELETE_TODO",id:t}}(t));var t}},"X")),a.a.createElement("p",{className:"todo__user"},e.user?e.user.name:"Unknown"),e.completed?a.a.createElement("div",{className:"todo__item-completed--true"},"Completed"):a.a.createElement("div",{className:"todo__item-completed--false"},"Not completed"))}),A=(n(35),function(t){var e=t.todoList;return a.a.createElement("ul",{className:"todo__list"},e.map((function(t){return a.a.createElement(x,{todo:t,key:t.id})})))}),I=(n(36),function(t){var e=t.title,n=t.handleClick,r=t.status;return a.a.createElement("button",{type:"button",className:"todo__button",onClick:n,disabled:r},r?"Loading...":e)}),M=n(12),F=function(){var t=Object(s.b)(),e=Object(s.c)(T),n=Object(s.c)(v),o=Object(s.c)(y),c=Object(s.c)(g),u=Object(s.c)(j),l=function(){var e=Object(L.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(d(!0)),e.prev=1,e.next=4,S();case 4:n=e.sent,t(E(n)),t({type:"LOADED",status:!0}),0===n.length?t(O("No Todos, try again later.")):t(O("")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(O("Network error, try again."));case 13:t(d(!1));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),i=Object(r.useMemo)((function(){return function(t,e){switch(e){case"title":return Object(M.a)(t).sort((function(t,e){return t.title.localeCompare(e.title)}));case"author":return Object(M.a)(t).sort((function(t,e){return t.user&&e.user?t.user.name.localeCompare(e.user.name):0}));case"status":return Object(M.a)(t).sort((function(t,e){return t.completed===e.completed?0:t.completed?-1:1}));default:return t}}(e,c)}),[e,c]);return a.a.createElement("div",{className:"todo"},a.a.createElement("h1",{className:"todo__title"},"List of Todos"),o?u.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"todo__error"},u),a.a.createElement(I,{title:"Reload",handleClick:l,status:n})):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"todo__sort-buttons"},a.a.createElement(I,{title:"Sort by title",handleClick:function(){t(p("title"))},status:n}),a.a.createElement(I,{title:"Sort by authors",handleClick:function(){t(p("author"))},status:n}),a.a.createElement(I,{title:"Sort by status",handleClick:function(){t(p("status"))},status:n}),a.a.createElement(I,{title:"Reset",handleClick:function(){t(p(""))},status:n})),a.a.createElement(A,{todoList:i})):a.a.createElement(a.a.Fragment,null,u&&a.a.createElement("span",{className:"todo__error"},u),a.a.createElement(I,{title:"Load",handleClick:l,status:n})))},G=function(){return a.a.createElement(s.a,{store:k},a.a.createElement(u.a,null,a.a.createElement(F,null)))};c.a.render(a.a.createElement(G,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.35095579.chunk.js.map