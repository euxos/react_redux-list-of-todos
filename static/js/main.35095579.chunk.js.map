{"version":3,"sources":["store/loading.ts","store/loaded.ts","store/sortType.ts","store/todos.ts","store/errorMessage.ts","store/index.ts","helpers/getData.ts","components/TodoCard/TodoCard.tsx","components/TodoList/TodoList.tsx","components/TodoButton/TodoButton.tsx","App.tsx","helpers/helpers.ts","index.tsx"],"names":["loadingAction","status","type","loadingReducer","state","action","loadedReducer","setSortTypeAction","sortType","sortTypeReducer","setTodosAction","todos","todosReducer","filter","todo","id","setErrorMessageAction","message","errorMessageReducer","getLoadingStatus","loading","getLoadedStatus","loaded","getSortType","getTodos","getErrorMessage","errorMessage","rootReducer","combineReducers","store","createStore","composeWithDevTools","getAll","url","fetch","then","response","json","getData","a","todosFromServer","usersFromServer","preparedTodos","map","user","find","userId","TodoCard","dispatch","useDispatch","className","title","onClick","deleteTodoAction","name","completed","TodoList","todoList","key","TodoButton","handleClick","disabled","App","useSelector","isLoading","isLoaded","handleLoadClick","length","sortedTodos","useMemo","sort","currTodo","nextTodo","localeCompare","getSortedTodos","Root","ReactDOM","render","document","getElementById"],"mappings":"8UAMaA,EAAgB,SAACC,GAAD,MAA+B,CAAEC,KAJ9C,gBAI6DD,WAa9DE,EAVQ,WAAqC,IAApCC,EAAmC,wDAApBC,EAAoB,uCACzD,OAAQA,EAAOH,MACb,IATY,gBAUV,OAAOG,EAAOJ,OAEhB,QACE,OAAOG,ICGEE,EAVO,WAAoC,IAAnCF,EAAkC,wDAAnBC,EAAmB,uCACvD,OAAQA,EAAOH,MACb,IARW,SAST,OAAOG,EAAOJ,OAEhB,QACE,OAAOG,ICRAG,EAAoB,SAACC,GAAD,MAAiC,CAAEN,KAJlD,YAImEM,aAYtEC,EAVS,WAAmC,IAAlCL,EAAiC,uDAAzB,GAAIC,EAAqB,uCACxD,OAAQA,EAAOH,MACb,IARc,YASZ,OAAOG,EAAOG,SAEhB,QACE,OAAOJ,ICNAM,EAAiB,SAACC,GAAD,MAA+B,CAC3DT,KAPiB,aAQjBS,UAsBaC,EAbM,WAA0C,IAAzCR,EAAwC,uDAAhC,GAAcC,EAAkB,uCAC5D,OAAQA,EAAOH,MACb,IAnBe,aAoBb,OAAOG,EAAOM,MAEhB,IArBgB,cAsBd,OAAOP,EAAMS,QAAO,SAACC,GAAD,OAAUA,EAAKC,KAAOV,EAAOU,MAEnD,QACE,OAAOX,ICtBAY,EAAwB,SAACC,GAAD,MAA6B,CAChEf,KALY,QAKCe,YAaAC,EAVa,WAAgC,IAA/Bd,EAA8B,uDAAtB,GAAIC,EAAkB,uCACzD,OAAQA,EAAOH,MACb,IAVU,QAWR,OAAOG,EAAOY,QAEhB,QACE,OAAOb,ICLAe,EAAmB,SAACf,GAAD,OAAsBA,EAAMgB,SAC/CC,EAAkB,SAACjB,GAAD,OAAsBA,EAAMkB,QAC9CC,EAAc,SAACnB,GAAD,OAAsBA,EAAMI,UAC1CgB,EAAW,SAACpB,GAAD,OAAsBA,EAAMO,OACvCc,EAAkB,SAACrB,GAAD,OAAsBA,EAAMsB,cAcrDC,EAAcC,0BAAgB,CAClCR,QAASjB,EACTmB,OAAQhB,EACRE,SAAUC,EACVE,MAAOC,EACPc,aAAcR,IAUDW,EANDC,sBACZH,EArB8B,CAC9BP,SAAS,EACTE,QAAQ,EACRd,SAAU,GACVG,MAAO,GACPe,aAAc,IAkBdK,iC,wCCpCIC,EAAS,SAAIC,GACjB,OAAOC,MANO,iEAMSD,GACpBE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,WAMlBC,EAAO,uCAAG,gCAAAC,EAAA,sEAHAP,EARJ,eAWI,cACfQ,EADe,gBAFAR,EARJ,eAUI,cAEfS,EAFe,OAIfC,EAAgBF,EAAgBG,KAAI,SAAA7B,GAAI,kCACzCA,GADyC,IAE5C8B,KAAMH,EAAgBI,MAAK,SAAAD,GAAI,OAAIA,EAAK7B,KAAOD,EAAKgC,eANjC,kBASdJ,GATc,2CAAH,qDCHPK,G,MAA4B,SAAC,GAAc,IAAZjC,EAAW,EAAXA,KACpCkC,EAAWC,cAIjB,OACE,wBAAIC,UAAU,cACZ,wBAAIA,UAAU,oBACXpC,EAAKqC,MACN,4BACED,UAAU,yBACVhD,KAAK,SACLkD,QAAS,kBATGrC,EAScD,EAAKC,GATJiC,EJDL,SAACjC,GAAD,MAA4B,CAC1Db,KAVkB,cAWlBa,MID4CsC,CAAiBtC,IAA1C,IAACA,IAMd,MASF,uBAAGmC,UAAU,cAAcpC,EAAK8B,KAAO9B,EAAK8B,KAAKU,KAAO,WACvDxC,EAAKyC,UACF,yBAAKL,UAAU,8BAAf,aACA,yBAAKA,UAAU,+BAAf,oBCvBGM,G,MAA4B,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACvC,wBAAIP,UAAU,cACXO,EAASd,KAAI,SAAC7B,GAAD,OACZ,kBAAC,EAAD,CAAUA,KAAMA,EAAM4C,IAAK5C,EAAKC,WCFzB4C,G,MAA8B,SAAC,GAAD,IAAGR,EAAH,EAAGA,MAAOS,EAAV,EAAUA,YAAa3D,EAAvB,EAAuBA,OAAvB,OACzC,4BACEC,KAAK,SACLgD,UAAU,eACVE,QAASQ,EACTC,SAAU5D,GAETA,EAAS,aAAekD,K,QCmHdW,EA3GH,WACV,IAAMd,EAAWC,cAEXtC,EAAgBoD,YAAYvC,GAC5BwC,EAAYD,YAAY5C,GACxB8C,EAAWF,YAAY1C,GACvBb,EAAWuD,YAAYxC,GACvBG,EAAeqC,YAAYtC,GAE3ByC,EAAe,uCAAG,4BAAA3B,EAAA,6DACtBS,EAAShD,GAAc,IADD,kBAIGsC,IAJH,OAIdmB,EAJc,OAMpBT,EAAStC,EAAe+C,IACxBT,ETlCmD,CAAE9C,KAJ5C,SAI0DD,QSkC7C,IAEE,IAApBwD,EAASU,OACXnB,EAAShC,EAAsB,+BAE/BgC,EAAShC,EAAsB,KAZb,kDAepBgC,EAAShC,EAAsB,8BAfX,QAkBtBgC,EAAShD,GAAc,IAlBD,0DAAH,qDAqCfoE,EAAcC,mBAAQ,WAC1B,OCvE0B,SAAC1D,EAAeH,GAC5C,OAAQA,GACN,IAAK,QACH,OAAO,YAAIG,GAAO2D,MAAK,SAACC,EAAUC,GAAX,OACrBD,EAASpB,MAAMsB,cAAcD,EAASrB,UAE1C,IAAK,SACH,OAAO,YAAIxC,GAAO2D,MAAK,SAACC,EAAUC,GAChC,OAAQD,EAAS3B,MAAQ4B,EAAS5B,KAC9B2B,EAAS3B,KAAKU,KAAKmB,cAAcD,EAAS5B,KAAKU,MAC/C,KAGR,IAAK,SACH,OAAO,YAAI3C,GAAO2D,MAAK,SAACC,EAAUC,GAChC,OAAQD,EAAShB,YAAciB,EAASjB,UACpC,EAAIgB,EAAShB,WAAa,EAAI,KAGtC,QACE,OAAO5C,GDmDF+D,CAAe/D,EAAOH,KAC5B,CAACG,EAAOH,IAEX,OACE,yBAAK0C,UAAU,QACb,wBAAIA,UAAU,eAAd,iBAEEe,EAWCvC,EAAayC,OA2BZ,oCACE,0BAAMjB,UAAU,eAAexB,GAE/B,kBAAC,EAAD,CACEyB,MAAM,SACNS,YAAaM,EACbjE,OAAQ+D,KAhCZ,oCACE,yBAAKd,UAAU,sBACb,kBAAC,EAAD,CACEC,MAAM,gBACNS,YApCU,WACtBZ,EAASzC,EAAkB,WAoCfN,OAAQ+D,IAEV,kBAAC,EAAD,CACEb,MAAM,kBACNS,YArCS,WACrBZ,EAASzC,EAAkB,YAqCfN,OAAQ+D,IAEV,kBAAC,EAAD,CACEb,MAAM,iBACNS,YAtCW,WACvBZ,EAASzC,EAAkB,YAsCfN,OAAQ+D,IAEV,kBAAC,EAAD,CACEb,MAAM,QACNS,YAvDA,WACZZ,EAASzC,EAAkB,MAuDfN,OAAQ+D,KAGZ,kBAAC,EAAD,CAAUP,SAAUW,KAlCxB,oCACG1C,GAAgB,0BAAMwB,UAAU,eAAexB,GAEhD,kBAAC,EAAD,CACEyB,MAAM,OACNS,YAAaM,EACbjE,OAAQ+D,OE3EdW,EAAO,kBACX,kBAAC,IAAD,CAAU9C,MAAOA,GACf,kBAAC,IAAD,KACE,kBAAC,EAAD,SAKN+C,IAASC,OAAO,kBAAC,EAAD,MAAUC,SAASC,eAAe,W","file":"static/js/main.35095579.chunk.js","sourcesContent":["import { Action } from 'redux';\n\nconst LOADING = 'START_LOADING';\n\ntype Loading = Action<typeof LOADING> & { status: boolean };\n\nexport const loadingAction = (status: boolean): Loading => ({ type: LOADING, status });\n\n\nconst loadingReducer = (state = false, action: Loading) => {\n  switch (action.type) {\n    case LOADING:\n      return action.status;\n\n    default:\n      return state;\n  }\n};\n\nexport default loadingReducer;\n","import { Action } from 'redux';\n\nconst LOADED = 'LOADED';\n\ntype Loaded = Action<typeof LOADED> & { status: boolean };\n\nexport const loadedAction= (status: boolean): Loaded => ({ type: LOADED, status });\n\nconst loadedReducer = (state = false, action: Loaded) => {\n  switch (action.type) {\n    case LOADED:\n      return action.status;\n\n    default:\n      return state;\n  }\n};\n\nexport default loadedReducer;\n","import { Action } from 'redux';\n\nconst SORT_TYPE = 'SORT_TYPE';\n\ntype SortType = Action<typeof SORT_TYPE> & { sortType: string };\n\nexport const setSortTypeAction = (sortType: string): SortType => ({ type: SORT_TYPE, sortType });\n\nconst sortTypeReducer = (state = '', action: SortType) => {\n  switch (action.type) {\n    case SORT_TYPE:\n      return action.sortType;\n\n    default:\n      return state;\n  }\n};\n\nexport default sortTypeReducer;\n","import { Action } from 'redux';\n\nconst LOAD_TODOS = 'LOAD_TODOS';\nconst DELETE_TODO = 'DELETE_TODO';\n\ntype LoadTodos = Action<typeof LOAD_TODOS> & { todos: Todo[] };\ntype DeleteTodo = Action<typeof DELETE_TODO> & { id: number };\n\nexport const setTodosAction = (todos: Todo[]): LoadTodos => ({\n  type: LOAD_TODOS,\n  todos,\n});\nexport const deleteTodoAction = (id: number): DeleteTodo=> ({\n  type: DELETE_TODO,\n  id,\n});\n\ntype Todos = LoadTodos | DeleteTodo;\n\nconst todosReducer = (state = [] as Todo[], action: Todos) => {\n  switch (action.type) {\n    case LOAD_TODOS:\n      return action.todos;\n\n    case DELETE_TODO:\n      return state.filter((todo) => todo.id !== action.id);\n\n    default:\n      return state;\n  }\n};\n\nexport default todosReducer;\n","import { Action } from 'redux';\n\nconst ERROR = 'ERROR';\n\ntype Error = Action<typeof ERROR> & { message: string };\n\nexport const setErrorMessageAction = (message: string): Error => ({\n  type: ERROR, message\n});\n\nconst errorMessageReducer = (state = '', action: Error) => {\n  switch (action.type) {\n    case ERROR:\n      return action.message;\n\n    default:\n      return state;\n  }\n};\n\nexport default errorMessageReducer;\n","import { createStore, combineReducers } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport loadingReducer from './loading';\nimport loadedReducer from './loaded';\nimport sortTypeReducer from './sortType';\nimport todosReducer from './todos';\nimport errorMessageReducer from './errorMessage';\n\n\n// Selectors - a function receiving Redux state and returning some data from it\nexport const getLoadingStatus = (state: RootState) => state.loading;\nexport const getLoadedStatus = (state: RootState) => state.loaded;\nexport const getSortType = (state: RootState) => state.sortType;\nexport const getTodos = (state: RootState) => state.todos;\nexport const getErrorMessage = (state: RootState) => state.errorMessage;\n\n\nconst initialState: RootState = {\n  loading: false,\n  loaded: false,\n  sortType: '',\n  todos: [],\n  errorMessage: '',\n};\n\n\n// rootReducer - this function is called after dispatching an action\n\nconst rootReducer = combineReducers({\n  loading: loadingReducer,\n  loaded: loadedReducer,\n  sortType: sortTypeReducer,\n  todos: todosReducer,\n  errorMessage: errorMessageReducer,\n});\n\n// The `store` should be passed to the <Provider store={store}> in `/src/index.tsx`\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(), // allows you to use http://extension.remotedev.io/\n);\n\nexport default store;\n","const API_URL = 'https://mate-academy.github.io/react_dynamic-list-of-todos/api';\n\nconst TODOS_PATH = '/todos.json';\nconst USERS_PATH = '/users.json';\n\nconst getAll = <T>(url: string): Promise<T[]> => {\n  return fetch(API_URL + url)\n    .then(response => response.json());\n}\n\nconst getTodos = () => getAll<Todo>(TODOS_PATH);\nconst getUsers = () => getAll<User>(USERS_PATH);\n\nexport const getData = async () => {\n  const todosFromServer = await getTodos();\n  const usersFromServer = await getUsers();\n\n  const preparedTodos = todosFromServer.map(todo => ({\n    ...todo,\n    user: usersFromServer.find(user => user.id === todo.userId),\n  }));\n\n  return preparedTodos;\n}\n","import React from 'react';\nimport './TodoCard.css';\n\nimport { useDispatch } from 'react-redux';\nimport { deleteTodoAction } from '../../store/todos';\n\ntype Props = {\n  todo: Todo;\n}\n\nexport const TodoCard: React.FC<Props> = ({ todo }) => {\n  const dispatch = useDispatch();\n\n  const deleteTodo = (id: number) => dispatch(deleteTodoAction(id));\n\n  return (\n    <li className=\"todo__item\">\n      <h2 className=\"todo__item-title\">\n        {todo.title}\n        <button\n          className=\"todo__item--btn-delete\"\n          type=\"button\"\n          onClick={() => deleteTodo(todo.id)}\n        >\n          X\n      </button>\n      </h2>\n\n      <p className=\"todo__user\">{todo.user ? todo.user.name : 'Unknown'}</p>\n      {todo.completed\n        ? <div className=\"todo__item-completed--true\">Completed</div>\n        : <div className=\"todo__item-completed--false\">Not completed</div>\n      }\n    </li>\n  )\n\n}\n","import React from 'react';\nimport { TodoCard } from '../TodoCard/TodoCard';\nimport './TodoList.css';\n\ntype Props = {\n  todoList: Todo[];\n}\n\nexport const TodoList: React.FC<Props> = ({ todoList }) => (\n  <ul className=\"todo__list\">\n    {todoList.map((todo: Todo) => (\n      <TodoCard todo={todo} key={todo.id} />\n    ))}\n  </ul>\n);\n\n","import React from 'react';\nimport './TodoButton.css';\n\ntype Props = {\n  handleClick: () => void;\n  title: string;\n  status: boolean;\n}\n\nexport const TodoButton: React.FC<Props> = ({ title, handleClick, status }) => (\n  <button\n    type=\"button\"\n    className=\"todo__button\"\n    onClick={handleClick}\n    disabled={status}\n  >\n    {status ? 'Loading...' : title}\n  </button>\n);\n","import React, { useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { setTodosAction } from './store/todos';\nimport { loadingAction } from './store/loading';\nimport { loadedAction } from './store/loaded';\nimport { setErrorMessageAction } from './store/errorMessage';\nimport { setSortTypeAction } from './store/sortType';\nimport {\n  getTodos,\n  getSortType,\n  getErrorMessage,\n  getLoadedStatus,\n  getLoadingStatus,\n} from './store';\n\nimport './App.scss';\n\nimport { getData } from './helpers/getData';\n\nimport { TodoList } from './components/TodoList/TodoList';\nimport { TodoButton } from './components/TodoButton/TodoButton';\nimport { getSortedTodos } from './helpers/helpers';\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  const todos: Todo[] = useSelector(getTodos);\n  const isLoading = useSelector(getLoadingStatus)\n  const isLoaded = useSelector(getLoadedStatus);\n  const sortType = useSelector(getSortType);\n  const errorMessage = useSelector(getErrorMessage);\n\n  const handleLoadClick = async () => {\n    dispatch(loadingAction(true));\n\n    try {\n      const todoList = await getData();\n\n      dispatch(setTodosAction(todoList));\n      dispatch(loadedAction(true));\n\n      if (todoList.length === 0) {\n        dispatch(setErrorMessageAction('No Todos, try again later.'));\n      } else {\n        dispatch(setErrorMessageAction(''));\n      }\n    } catch (exeption) {\n      dispatch(setErrorMessageAction('Network error, try again.'));\n    }\n\n    dispatch(loadingAction(false));\n  }\n\n  const reset = () => {\n    dispatch(setSortTypeAction(''));\n  }\n\n  const sortListByTitle = () => {\n    dispatch(setSortTypeAction('title'));\n  }\n\n  const sortListByUser = () => {\n    dispatch(setSortTypeAction('author'));\n  }\n\n  const sortListByStatus = () => {\n    dispatch(setSortTypeAction('status'));\n  }\n\n  const sortedTodos = useMemo(() => {\n    return getSortedTodos(todos, sortType);\n  }, [todos, sortType]);\n\n  return (\n    <div className=\"todo\">\n      <h1 className=\"todo__title\">List of Todos</h1>\n\n      {!isLoaded ? (\n        <>\n          {errorMessage && <span className=\"todo__error\">{errorMessage}</span>}\n\n          <TodoButton\n            title=\"Load\"\n            handleClick={handleLoadClick}\n            status={isLoading}\n          />\n        </>\n      ) : (\n        !errorMessage.length ? (\n          <>\n            <div className=\"todo__sort-buttons\">\n              <TodoButton\n                title=\"Sort by title\"\n                handleClick={sortListByTitle}\n                status={isLoading}\n              />\n              <TodoButton\n                title=\"Sort by authors\"\n                handleClick={sortListByUser}\n                status={isLoading}\n              />\n              <TodoButton\n                title=\"Sort by status\"\n                handleClick={sortListByStatus}\n                status={isLoading}\n              />\n              <TodoButton\n                title=\"Reset\"\n                handleClick={reset}\n                status={isLoading}\n              />\n            </div>\n            <TodoList todoList={sortedTodos} />\n          </>\n        ) : (\n          <>\n            <span className=\"todo__error\">{errorMessage}</span>\n\n            <TodoButton\n              title=\"Reload\"\n              handleClick={handleLoadClick}\n              status={isLoading}\n            />\n          </>\n        )\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","export const getSortedTodos = (todos: Todo[], sortType: string) => {\n  switch (sortType) {\n    case 'title':\n      return [...todos].sort((currTodo, nextTodo) => (\n        currTodo.title.localeCompare(nextTodo.title)));\n\n    case 'author':\n      return [...todos].sort((currTodo, nextTodo) => {\n        return (currTodo.user && nextTodo.user)\n          ? currTodo.user.name.localeCompare(nextTodo.user.name)\n          : 0;\n      });\n\n    case 'status':\n      return [...todos].sort((currTodo, nextTodo) => {\n        return (currTodo.completed === nextTodo.completed)\n          ? 0 : currTodo.completed ? -1 : 1;\n      });\n\n    default:\n      return todos;\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport store from './store';\nimport App from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}